@startuml
    !startsub common
    	!define datatype(x) class x << (D,#FF7700) DataType>>
    	hide empty members
    !endsub

    !startsub Document
    class "Document" #ffffff {
        DOI : DOI_Type
        title : Multilingual_String
        publicationDate : Date
    }
    class "Textual_Document" #ffffff {
    }
    !endsub

    !startsub TDAS
    class "Textual_Document_Accessibility_Specification" #ffffff {
    }
    !endsub

    !startsub Agent
    class "Agent" #ffffff {

        }
    !endsub

    class "Organisation_Unit" #ffffff {
        name : Multilingual_String
    }
    class "Person" #ffffff {
        orcidid : ORCID_iD
    }
    datatype("Person_Name") #ffffff {
        firstNames : String
        familyNames : String
        otherNames : String
    }
    class "Authorship" #ffffff {
        correspondingAuthorFlag : Boolean
    }

    !startsub Contributorship
    class "Contributorship" #ffffff {
        contacts : List<URI>
        displayName : String
    }
    class "Contribution_Statement" #ffffff {
    }
    class "Free_Text_Contribution" #ffffff {
        statement : Multilingual_String
    }
    !endsub

    class "Affiliation_Statement" #ffffff {
        displayAffiliation : String
    }
   datatype("Postal_Address") #ffffff {
        street : String
        city : String
        zipCode : String
        country : Country
    }
    class "Country" #ffffff {
        name : Multilingual_String
        iso3166alpha2Code : ISO3166_Alpha2_Code
        # iso3166NumericCode : ISO3166_Numeric_Code
        # euCountryCode : EU_Country_Code
    }
    "Postal_Address" o-- "country" "Country"
    "Affiliation_Statement" ..> "postalAddress" "Postal_Address"
    "Affiliation_Statement" o-- "0..1 orgUnit" "Organisation_Unit"
    "Affiliation_Statement" o-- "0..1 institution" "Organisation_Unit"
    "Affiliation_Statement" o-- "person" "Person"
    !startsub Contributorship
    "Contribution_Statement" <|-- "Free_Text_Contribution"
    !endsub
    !startsub Contributorship
    "Contributorship" "0..*" -r-* "Document"
    !endsub
    !startsub Contributorship
    "Contributorship" "0..*" -l-* "0..1 contributor" "Agent"
    !endsub
    "Contributorship" *-- "0..* affiliations" "Affiliation_Statement"
    !startsub Contributorship
    "Contributorship" *-u- "0..* contributionStatements" "Contribution_Statement"
    !endsub
    "Authorship" -r-* "Textual_Document"
    "Contributorship" <|-u- "Authorship"
    "Authorship" "0..*" --o "0..1 author" "Agent"
    note on link #yellow: author == contributor
    "Person" .d.> "names" "Person_Name"
    "Agent" <|-d- "Person"
    "Agent" <|-d- "Organisation_Unit"
    !startsub Document
    "Document" <|-u- "Textual_Document"
    !endsub
    "Textual_Document" *-u- "0..* accessRights" "Textual_Document_Accessibility_Specification"
    "Textual_Document" "0..* authoredDocuments" --- "0..* authors" "Agent"
    note left of Agent: The Agent is mandatory for almost all \nsubclasses of Contributorship,\nReviewing is the exception if the \nreviewer's identity is concealed. \nAlso useful when authors are \nusing pseudonyms.
@enduml
